{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nimport { useCallback, useReducer, useState } from 'react';\nimport { nanoid } from 'nanoid';\nimport { useChannelStateContext } from '../../../context/ChannelStateContext';\nimport { useEmojiIndex } from './useEmojiIndex';\nimport { useAttachments } from './useAttachments';\nimport { useMessageInputText } from './useMessageInputText';\nimport { useEmojiPicker } from './useEmojiPicker';\nimport { useSubmitHandler } from './useSubmitHandler';\nimport { usePasteHandler } from './usePasteHandler';\nvar emptyFileUploads = {};\nvar emptyImageUploads = {};\nvar makeEmptyMessageInputState = function () {\n  return {\n    attachments: [],\n    emojiPickerIsOpen: false,\n    fileOrder: [],\n    fileUploads: __assign({}, emptyFileUploads),\n    imageOrder: [],\n    imageUploads: __assign({}, emptyImageUploads),\n    mentioned_users: [],\n    setText: function () {\n      return null;\n    },\n    text: ''\n  };\n};\n/**\n * Initializes the state. Empty if the message prop is falsy.\n */\nvar initState = function (message) {\n  var _a, _b, _c;\n  if (!message) {\n    return makeEmptyMessageInputState();\n  }\n  // if message prop is defined, get image uploads, file uploads, text, etc.\n  var imageUploads = ((_a = message.attachments) === null || _a === void 0 ? void 0 : _a.filter(function (_a) {\n    var type = _a.type;\n    return type === 'image';\n  }).reduce(function (acc, attachment) {\n    var id = nanoid();\n    acc[id] = {\n      file: {\n        name: attachment.fallback || ''\n      },\n      id: id,\n      state: 'finished',\n      url: attachment.image_url\n    };\n    return acc;\n  }, {})) || {};\n  var imageOrder = Object.keys(imageUploads);\n  var fileUploads = ((_b = message.attachments) === null || _b === void 0 ? void 0 : _b.filter(function (_a) {\n    var type = _a.type;\n    return type === 'file';\n  }).reduce(function (acc, attachment) {\n    var id = nanoid();\n    acc[id] = {\n      file: {\n        name: attachment.title || '',\n        size: attachment.file_size,\n        type: attachment.mime_type\n      },\n      id: id,\n      state: 'finished',\n      url: attachment.asset_url\n    };\n    return acc;\n  }, {})) || {};\n  var fileOrder = Object.keys(fileUploads);\n  var attachments = ((_c = message.attachments) === null || _c === void 0 ? void 0 : _c.filter(function (_a) {\n    var type = _a.type;\n    return type !== 'file' && type !== 'image';\n  })) || [];\n  var mentioned_users = message.mentioned_users || [];\n  return {\n    attachments: attachments,\n    emojiPickerIsOpen: false,\n    fileOrder: fileOrder,\n    fileUploads: fileUploads,\n    imageOrder: imageOrder,\n    imageUploads: imageUploads,\n    mentioned_users: mentioned_users,\n    setText: function () {\n      return null;\n    },\n    text: message.text || ''\n  };\n};\n/**\n * MessageInput state reducer\n */\nvar messageInputReducer = function (state, action) {\n  var _a, _b;\n  switch (action.type) {\n    case 'setEmojiPickerIsOpen':\n      return __assign(__assign({}, state), {\n        emojiPickerIsOpen: action.value\n      });\n    case 'setText':\n      return __assign(__assign({}, state), {\n        text: action.getNewText(state.text)\n      });\n    case 'clear':\n      return makeEmptyMessageInputState();\n    case 'setImageUpload':\n      {\n        var imageAlreadyExists = state.imageUploads[action.id];\n        if (!imageAlreadyExists && !action.file) return state;\n        var imageOrder = imageAlreadyExists ? state.imageOrder : state.imageOrder.concat(action.id);\n        var newUploadFields = __assign({}, action);\n        delete newUploadFields.type;\n        return __assign(__assign({}, state), {\n          imageOrder: imageOrder,\n          imageUploads: __assign(__assign({}, state.imageUploads), (_a = {}, _a[action.id] = __assign(__assign({}, state.imageUploads[action.id]), newUploadFields), _a))\n        });\n      }\n    case 'setFileUpload':\n      {\n        var fileAlreadyExists = state.fileUploads[action.id];\n        if (!fileAlreadyExists && !action.file) return state;\n        var fileOrder = fileAlreadyExists ? state.fileOrder : state.fileOrder.concat(action.id);\n        var newUploadFields = __assign({}, action);\n        delete newUploadFields.type;\n        return __assign(__assign({}, state), {\n          fileOrder: fileOrder,\n          fileUploads: __assign(__assign({}, state.fileUploads), (_b = {}, _b[action.id] = __assign(__assign({}, state.fileUploads[action.id]), newUploadFields), _b))\n        });\n      }\n    case 'removeImageUpload':\n      {\n        if (!state.imageUploads[action.id]) return state; // cannot remove anything\n        var newImageUploads = __assign({}, state.imageUploads);\n        delete newImageUploads[action.id];\n        return __assign(__assign({}, state), {\n          imageOrder: state.imageOrder.filter(function (_id) {\n            return _id !== action.id;\n          }),\n          imageUploads: newImageUploads\n        });\n      }\n    case 'removeFileUpload':\n      {\n        if (!state.fileUploads[action.id]) return state; // cannot remove anything\n        var newFileUploads = __assign({}, state.fileUploads);\n        delete newFileUploads[action.id];\n        return __assign(__assign({}, state), {\n          fileOrder: state.fileOrder.filter(function (_id) {\n            return _id !== action.id;\n          }),\n          fileUploads: newFileUploads\n        });\n      }\n    case 'addMentionedUser':\n      return __assign(__assign({}, state), {\n        mentioned_users: state.mentioned_users.concat(action.user)\n      });\n    default:\n      return state;\n  }\n};\n/**\n * hook for MessageInput state\n */\nexport var useMessageInputState = function (props) {\n  var additionalTextareaProps = props.additionalTextareaProps,\n    closeEmojiPickerOnClick = props.closeEmojiPickerOnClick,\n    message = props.message;\n  var _a = useChannelStateContext('useMessageInputState'),\n    _b = _a.channelCapabilities,\n    channelCapabilities = _b === void 0 ? {} : _b,\n    channelConfig = _a.channelConfig;\n  var defaultValue = additionalTextareaProps === null || additionalTextareaProps === void 0 ? void 0 : additionalTextareaProps.defaultValue;\n  var initialStateValue = message || (Array.isArray(defaultValue) ? {\n    text: defaultValue.join('')\n  } : {\n    text: defaultValue === null || defaultValue === void 0 ? void 0 : defaultValue.toString()\n  });\n  var _c = useReducer(messageInputReducer, initialStateValue, initState),\n    state = _c[0],\n    dispatch = _c[1];\n  var _d = useMessageInputText(props, state, dispatch),\n    handleChange = _d.handleChange,\n    insertText = _d.insertText,\n    textareaRef = _d.textareaRef;\n  var _e = useState(false),\n    showCommandsList = _e[0],\n    setShowCommandsList = _e[1];\n  var _f = useState(false),\n    showMentionsList = _f[0],\n    setShowMentionsList = _f[1];\n  var openCommandsList = function () {\n    dispatch({\n      getNewText: function () {\n        return '/';\n      },\n      type: 'setText'\n    });\n    setShowCommandsList(true);\n  };\n  var closeCommandsList = function () {\n    return setShowCommandsList(false);\n  };\n  var openMentionsList = function () {\n    dispatch({\n      getNewText: function (currentText) {\n        return currentText + '@';\n      },\n      type: 'setText'\n    });\n    setShowMentionsList(true);\n  };\n  var closeMentionsList = function () {\n    return setShowMentionsList(false);\n  };\n  var _g = useEmojiPicker(state, dispatch, insertText, textareaRef, closeEmojiPickerOnClick),\n    closeEmojiPicker = _g.closeEmojiPicker,\n    emojiPickerRef = _g.emojiPickerRef,\n    handleEmojiKeyDown = _g.handleEmojiKeyDown,\n    onSelectEmoji = _g.onSelectEmoji,\n    openEmojiPicker = _g.openEmojiPicker;\n  var _h = useAttachments(props, state, dispatch, textareaRef),\n    maxFilesLeft = _h.maxFilesLeft,\n    numberOfUploads = _h.numberOfUploads,\n    removeFile = _h.removeFile,\n    removeImage = _h.removeImage,\n    uploadFile = _h.uploadFile,\n    uploadImage = _h.uploadImage,\n    uploadNewFiles = _h.uploadNewFiles;\n  var handleSubmit = useSubmitHandler(props, state, dispatch, numberOfUploads).handleSubmit;\n  var isUploadEnabled = (channelConfig === null || channelConfig === void 0 ? void 0 : channelConfig.uploads) !== false && channelCapabilities['upload-file'] !== false;\n  var onPaste = usePasteHandler(uploadNewFiles, insertText, isUploadEnabled).onPaste;\n  var onSelectUser = useCallback(function (item) {\n    dispatch({\n      type: 'addMentionedUser',\n      user: item\n    });\n  }, []);\n  var setText = useCallback(function (text) {\n    dispatch({\n      getNewText: function () {\n        return text;\n      },\n      type: 'setText'\n    });\n  }, []);\n  return __assign(__assign({}, state), {\n    closeCommandsList: closeCommandsList,\n    /**\n     * TODO: fix the below at some point because this type casting is wrong\n     * and just forced to not have warnings currently with the unknown casting\n     */\n    closeEmojiPicker: closeEmojiPicker,\n    closeMentionsList: closeMentionsList,\n    emojiIndex: useEmojiIndex(),\n    emojiPickerRef: emojiPickerRef,\n    handleChange: handleChange,\n    handleEmojiKeyDown: handleEmojiKeyDown,\n    handleSubmit: handleSubmit,\n    insertText: insertText,\n    isUploadEnabled: isUploadEnabled,\n    maxFilesLeft: maxFilesLeft,\n    numberOfUploads: numberOfUploads,\n    onPaste: onPaste,\n    onSelectEmoji: onSelectEmoji,\n    onSelectUser: onSelectUser,\n    openCommandsList: openCommandsList,\n    openEmojiPicker: openEmojiPicker,\n    openMentionsList: openMentionsList,\n    removeFile: removeFile,\n    removeImage: removeImage,\n    setText: setText,\n    showCommandsList: showCommandsList,\n    showMentionsList: showMentionsList,\n    textareaRef: textareaRef,\n    uploadFile: uploadFile,\n    uploadImage: uploadImage,\n    uploadNewFiles: uploadNewFiles\n  });\n};","map":{"version":3,"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","useCallback","useReducer","useState","nanoid","useChannelStateContext","useEmojiIndex","useAttachments","useMessageInputText","useEmojiPicker","useSubmitHandler","usePasteHandler","emptyFileUploads","emptyImageUploads","makeEmptyMessageInputState","attachments","emojiPickerIsOpen","fileOrder","fileUploads","imageOrder","imageUploads","mentioned_users","setText","text","initState","message","_a","_b","_c","filter","type","reduce","acc","attachment","id","file","name","fallback","state","url","image_url","keys","title","size","file_size","mime_type","asset_url","messageInputReducer","action","value","getNewText","imageAlreadyExists","concat","newUploadFields","fileAlreadyExists","newImageUploads","_id","newFileUploads","user","useMessageInputState","props","additionalTextareaProps","closeEmojiPickerOnClick","channelCapabilities","channelConfig","defaultValue","initialStateValue","Array","isArray","join","toString","dispatch","_d","handleChange","insertText","textareaRef","_e","showCommandsList","setShowCommandsList","_f","showMentionsList","setShowMentionsList","openCommandsList","closeCommandsList","openMentionsList","currentText","closeMentionsList","_g","closeEmojiPicker","emojiPickerRef","handleEmojiKeyDown","onSelectEmoji","openEmojiPicker","_h","maxFilesLeft","numberOfUploads","removeFile","removeImage","uploadFile","uploadImage","uploadNewFiles","handleSubmit","isUploadEnabled","uploads","onPaste","onSelectUser","item","emojiIndex"],"sources":["/home/kingking/Documents/code/website/libreqkn/client/node_modules/stream-chat-react/dist/components/MessageInput/hooks/useMessageInputState.js"],"sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { useCallback, useReducer, useState } from 'react';\nimport { nanoid } from 'nanoid';\nimport { useChannelStateContext } from '../../../context/ChannelStateContext';\nimport { useEmojiIndex } from './useEmojiIndex';\nimport { useAttachments } from './useAttachments';\nimport { useMessageInputText } from './useMessageInputText';\nimport { useEmojiPicker } from './useEmojiPicker';\nimport { useSubmitHandler } from './useSubmitHandler';\nimport { usePasteHandler } from './usePasteHandler';\nvar emptyFileUploads = {};\nvar emptyImageUploads = {};\nvar makeEmptyMessageInputState = function () { return ({\n    attachments: [],\n    emojiPickerIsOpen: false,\n    fileOrder: [],\n    fileUploads: __assign({}, emptyFileUploads),\n    imageOrder: [],\n    imageUploads: __assign({}, emptyImageUploads),\n    mentioned_users: [],\n    setText: function () { return null; },\n    text: '',\n}); };\n/**\n * Initializes the state. Empty if the message prop is falsy.\n */\nvar initState = function (message) {\n    var _a, _b, _c;\n    if (!message) {\n        return makeEmptyMessageInputState();\n    }\n    // if message prop is defined, get image uploads, file uploads, text, etc.\n    var imageUploads = ((_a = message.attachments) === null || _a === void 0 ? void 0 : _a.filter(function (_a) {\n        var type = _a.type;\n        return type === 'image';\n    }).reduce(function (acc, attachment) {\n        var id = nanoid();\n        acc[id] = {\n            file: {\n                name: attachment.fallback || '',\n            },\n            id: id,\n            state: 'finished',\n            url: attachment.image_url,\n        };\n        return acc;\n    }, {})) || {};\n    var imageOrder = Object.keys(imageUploads);\n    var fileUploads = ((_b = message.attachments) === null || _b === void 0 ? void 0 : _b.filter(function (_a) {\n        var type = _a.type;\n        return type === 'file';\n    }).reduce(function (acc, attachment) {\n        var id = nanoid();\n        acc[id] = {\n            file: {\n                name: attachment.title || '',\n                size: attachment.file_size,\n                type: attachment.mime_type,\n            },\n            id: id,\n            state: 'finished',\n            url: attachment.asset_url,\n        };\n        return acc;\n    }, {})) || {};\n    var fileOrder = Object.keys(fileUploads);\n    var attachments = ((_c = message.attachments) === null || _c === void 0 ? void 0 : _c.filter(function (_a) {\n        var type = _a.type;\n        return type !== 'file' && type !== 'image';\n    })) || [];\n    var mentioned_users = message.mentioned_users || [];\n    return {\n        attachments: attachments,\n        emojiPickerIsOpen: false,\n        fileOrder: fileOrder,\n        fileUploads: fileUploads,\n        imageOrder: imageOrder,\n        imageUploads: imageUploads,\n        mentioned_users: mentioned_users,\n        setText: function () { return null; },\n        text: message.text || '',\n    };\n};\n/**\n * MessageInput state reducer\n */\nvar messageInputReducer = function (state, action) {\n    var _a, _b;\n    switch (action.type) {\n        case 'setEmojiPickerIsOpen':\n            return __assign(__assign({}, state), { emojiPickerIsOpen: action.value });\n        case 'setText':\n            return __assign(__assign({}, state), { text: action.getNewText(state.text) });\n        case 'clear':\n            return makeEmptyMessageInputState();\n        case 'setImageUpload': {\n            var imageAlreadyExists = state.imageUploads[action.id];\n            if (!imageAlreadyExists && !action.file)\n                return state;\n            var imageOrder = imageAlreadyExists ? state.imageOrder : state.imageOrder.concat(action.id);\n            var newUploadFields = __assign({}, action);\n            delete newUploadFields.type;\n            return __assign(__assign({}, state), { imageOrder: imageOrder, imageUploads: __assign(__assign({}, state.imageUploads), (_a = {}, _a[action.id] = __assign(__assign({}, state.imageUploads[action.id]), newUploadFields), _a)) });\n        }\n        case 'setFileUpload': {\n            var fileAlreadyExists = state.fileUploads[action.id];\n            if (!fileAlreadyExists && !action.file)\n                return state;\n            var fileOrder = fileAlreadyExists ? state.fileOrder : state.fileOrder.concat(action.id);\n            var newUploadFields = __assign({}, action);\n            delete newUploadFields.type;\n            return __assign(__assign({}, state), { fileOrder: fileOrder, fileUploads: __assign(__assign({}, state.fileUploads), (_b = {}, _b[action.id] = __assign(__assign({}, state.fileUploads[action.id]), newUploadFields), _b)) });\n        }\n        case 'removeImageUpload': {\n            if (!state.imageUploads[action.id])\n                return state; // cannot remove anything\n            var newImageUploads = __assign({}, state.imageUploads);\n            delete newImageUploads[action.id];\n            return __assign(__assign({}, state), { imageOrder: state.imageOrder.filter(function (_id) { return _id !== action.id; }), imageUploads: newImageUploads });\n        }\n        case 'removeFileUpload': {\n            if (!state.fileUploads[action.id])\n                return state; // cannot remove anything\n            var newFileUploads = __assign({}, state.fileUploads);\n            delete newFileUploads[action.id];\n            return __assign(__assign({}, state), { fileOrder: state.fileOrder.filter(function (_id) { return _id !== action.id; }), fileUploads: newFileUploads });\n        }\n        case 'addMentionedUser':\n            return __assign(__assign({}, state), { mentioned_users: state.mentioned_users.concat(action.user) });\n        default:\n            return state;\n    }\n};\n/**\n * hook for MessageInput state\n */\nexport var useMessageInputState = function (props) {\n    var additionalTextareaProps = props.additionalTextareaProps, closeEmojiPickerOnClick = props.closeEmojiPickerOnClick, message = props.message;\n    var _a = useChannelStateContext('useMessageInputState'), _b = _a.channelCapabilities, channelCapabilities = _b === void 0 ? {} : _b, channelConfig = _a.channelConfig;\n    var defaultValue = additionalTextareaProps === null || additionalTextareaProps === void 0 ? void 0 : additionalTextareaProps.defaultValue;\n    var initialStateValue = message ||\n        (Array.isArray(defaultValue)\n            ? { text: defaultValue.join('') }\n            : { text: defaultValue === null || defaultValue === void 0 ? void 0 : defaultValue.toString() });\n    var _c = useReducer(messageInputReducer, initialStateValue, initState), state = _c[0], dispatch = _c[1];\n    var _d = useMessageInputText(props, state, dispatch), handleChange = _d.handleChange, insertText = _d.insertText, textareaRef = _d.textareaRef;\n    var _e = useState(false), showCommandsList = _e[0], setShowCommandsList = _e[1];\n    var _f = useState(false), showMentionsList = _f[0], setShowMentionsList = _f[1];\n    var openCommandsList = function () {\n        dispatch({\n            getNewText: function () { return '/'; },\n            type: 'setText',\n        });\n        setShowCommandsList(true);\n    };\n    var closeCommandsList = function () { return setShowCommandsList(false); };\n    var openMentionsList = function () {\n        dispatch({\n            getNewText: function (currentText) { return currentText + '@'; },\n            type: 'setText',\n        });\n        setShowMentionsList(true);\n    };\n    var closeMentionsList = function () { return setShowMentionsList(false); };\n    var _g = useEmojiPicker(state, dispatch, insertText, textareaRef, closeEmojiPickerOnClick), closeEmojiPicker = _g.closeEmojiPicker, emojiPickerRef = _g.emojiPickerRef, handleEmojiKeyDown = _g.handleEmojiKeyDown, onSelectEmoji = _g.onSelectEmoji, openEmojiPicker = _g.openEmojiPicker;\n    var _h = useAttachments(props, state, dispatch, textareaRef), maxFilesLeft = _h.maxFilesLeft, numberOfUploads = _h.numberOfUploads, removeFile = _h.removeFile, removeImage = _h.removeImage, uploadFile = _h.uploadFile, uploadImage = _h.uploadImage, uploadNewFiles = _h.uploadNewFiles;\n    var handleSubmit = useSubmitHandler(props, state, dispatch, numberOfUploads).handleSubmit;\n    var isUploadEnabled = (channelConfig === null || channelConfig === void 0 ? void 0 : channelConfig.uploads) !== false && channelCapabilities['upload-file'] !== false;\n    var onPaste = usePasteHandler(uploadNewFiles, insertText, isUploadEnabled).onPaste;\n    var onSelectUser = useCallback(function (item) {\n        dispatch({ type: 'addMentionedUser', user: item });\n    }, []);\n    var setText = useCallback(function (text) {\n        dispatch({ getNewText: function () { return text; }, type: 'setText' });\n    }, []);\n    return __assign(__assign({}, state), { closeCommandsList: closeCommandsList, \n        /**\n         * TODO: fix the below at some point because this type casting is wrong\n         * and just forced to not have warnings currently with the unknown casting\n         */\n        closeEmojiPicker: closeEmojiPicker, closeMentionsList: closeMentionsList, emojiIndex: useEmojiIndex(), emojiPickerRef: emojiPickerRef, handleChange: handleChange, handleEmojiKeyDown: handleEmojiKeyDown, handleSubmit: handleSubmit, insertText: insertText, isUploadEnabled: isUploadEnabled, maxFilesLeft: maxFilesLeft, numberOfUploads: numberOfUploads, onPaste: onPaste, onSelectEmoji: onSelectEmoji, onSelectUser: onSelectUser, openCommandsList: openCommandsList, openEmojiPicker: openEmojiPicker, openMentionsList: openMentionsList, removeFile: removeFile, removeImage: removeImage, setText: setText, showCommandsList: showCommandsList, showMentionsList: showMentionsList, textareaRef: textareaRef, uploadFile: uploadFile, uploadImage: uploadImage, uploadNewFiles: uploadNewFiles });\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}