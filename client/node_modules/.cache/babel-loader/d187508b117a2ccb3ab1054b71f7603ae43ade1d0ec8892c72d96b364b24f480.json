{"ast":null,"code":"import React, { useMemo, useState } from 'react';\nimport { ModalComponent as ModalWrapper } from './ModalWrapper';\nimport { useTranslationContext } from '../../context/TranslationContext';\nvar UnMemoizedGallery = function (props) {\n  var images = props.images;\n  var _a = useState(0),\n    index = _a[0],\n    setIndex = _a[1];\n  var _b = useState(false),\n    modalOpen = _b[0],\n    setModalOpen = _b[1];\n  var t = useTranslationContext('Gallery').t;\n  var countImagesDisplayedInPreview = 4;\n  var lastImageIndexInPreview = countImagesDisplayedInPreview - 1;\n  var toggleModal = function (selectedIndex) {\n    if (modalOpen) {\n      setModalOpen(false);\n    } else {\n      setIndex(selectedIndex);\n      setModalOpen(true);\n    }\n  };\n  var formattedArray = useMemo(function () {\n    return images.map(function (image) {\n      return {\n        original: image.image_url || image.thumb_url || '',\n        originalAlt: 'User uploaded content',\n        source: image.image_url || image.thumb_url || ''\n      };\n    });\n  }, [images]);\n  var renderImages = images.slice(0, countImagesDisplayedInPreview).map(function (image, i) {\n    return i === lastImageIndexInPreview && images.length > countImagesDisplayedInPreview ? React.createElement(\"button\", {\n      className: 'str-chat__gallery-placeholder',\n      key: \"gallery-image-\" + i,\n      onClick: function () {\n        return toggleModal(i);\n      },\n      style: {\n        backgroundImage: \"url(\" + images[lastImageIndexInPreview].image_url + \")\"\n      }\n    }, React.createElement(\"p\", null, t('{{ imageCount }} more', {\n      imageCount: images.length - countImagesDisplayedInPreview\n    }))) : React.createElement(\"button\", {\n      className: 'str-chat__gallery-image',\n      \"data-testid\": 'gallery-image',\n      key: \"gallery-image-\" + i,\n      onClick: function () {\n        return toggleModal(i);\n      }\n    }, React.createElement(\"img\", {\n      alt: 'User uploaded content',\n      src: image.image_url || image.thumb_url\n    }));\n  });\n  return React.createElement(\"div\", {\n    className: \"str-chat__gallery \" + (images.length > lastImageIndexInPreview ? 'str-chat__gallery--square' : '')\n  }, renderImages, React.createElement(ModalWrapper, {\n    images: formattedArray,\n    index: index,\n    modalIsOpen: modalOpen,\n    toggleModal: function () {\n      return setModalOpen(!modalOpen);\n    }\n  }));\n};\n/**\n * Displays images in a simple responsive grid with a light box to view the images.\n */\nexport var Gallery = React.memo(UnMemoizedGallery);","map":{"version":3,"names":["React","useMemo","useState","ModalComponent","ModalWrapper","useTranslationContext","UnMemoizedGallery","props","images","_a","index","setIndex","_b","modalOpen","setModalOpen","t","countImagesDisplayedInPreview","lastImageIndexInPreview","toggleModal","selectedIndex","formattedArray","map","image","original","image_url","thumb_url","originalAlt","source","renderImages","slice","i","length","createElement","className","key","onClick","style","backgroundImage","imageCount","alt","src","modalIsOpen","Gallery","memo"],"sources":["/home/kingking/Documents/code/website/libreqkn/client/node_modules/stream-chat-react/dist/components/Gallery/Gallery.js"],"sourcesContent":["import React, { useMemo, useState } from 'react';\nimport { ModalComponent as ModalWrapper } from './ModalWrapper';\nimport { useTranslationContext } from '../../context/TranslationContext';\nvar UnMemoizedGallery = function (props) {\n    var images = props.images;\n    var _a = useState(0), index = _a[0], setIndex = _a[1];\n    var _b = useState(false), modalOpen = _b[0], setModalOpen = _b[1];\n    var t = useTranslationContext('Gallery').t;\n    var countImagesDisplayedInPreview = 4;\n    var lastImageIndexInPreview = countImagesDisplayedInPreview - 1;\n    var toggleModal = function (selectedIndex) {\n        if (modalOpen) {\n            setModalOpen(false);\n        }\n        else {\n            setIndex(selectedIndex);\n            setModalOpen(true);\n        }\n    };\n    var formattedArray = useMemo(function () {\n        return images.map(function (image) { return ({\n            original: image.image_url || image.thumb_url || '',\n            originalAlt: 'User uploaded content',\n            source: image.image_url || image.thumb_url || '',\n        }); });\n    }, [images]);\n    var renderImages = images.slice(0, countImagesDisplayedInPreview).map(function (image, i) {\n        return i === lastImageIndexInPreview && images.length > countImagesDisplayedInPreview ? (React.createElement(\"button\", { className: 'str-chat__gallery-placeholder', key: \"gallery-image-\" + i, onClick: function () { return toggleModal(i); }, style: {\n                backgroundImage: \"url(\" + images[lastImageIndexInPreview].image_url + \")\",\n            } },\n            React.createElement(\"p\", null, t('{{ imageCount }} more', {\n                imageCount: images.length - countImagesDisplayedInPreview,\n            })))) : (React.createElement(\"button\", { className: 'str-chat__gallery-image', \"data-testid\": 'gallery-image', key: \"gallery-image-\" + i, onClick: function () { return toggleModal(i); } },\n            React.createElement(\"img\", { alt: 'User uploaded content', src: image.image_url || image.thumb_url })));\n    });\n    return (React.createElement(\"div\", { className: \"str-chat__gallery \" + (images.length > lastImageIndexInPreview ? 'str-chat__gallery--square' : '') },\n        renderImages,\n        React.createElement(ModalWrapper, { images: formattedArray, index: index, modalIsOpen: modalOpen, toggleModal: function () { return setModalOpen(!modalOpen); } })));\n};\n/**\n * Displays images in a simple responsive grid with a light box to view the images.\n */\nexport var Gallery = React.memo(UnMemoizedGallery);\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}