{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nvar __spreadArray = this && this.__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport React, { useMemo } from 'react';\nimport { sanitizeUrl } from '@braintree/sanitize-url';\nimport { isAudioAttachment, isFileAttachment, isMediaAttachment, isScrapedContent, isUploadedImage } from './utils';\nimport { AudioContainer, CardContainer, FileContainer, GalleryContainer, ImageContainer, MediaContainer } from './AttachmentContainer';\nvar CONTAINER_MAP = {\n  audio: AudioContainer,\n  card: CardContainer,\n  file: FileContainer,\n  media: MediaContainer\n};\nexport var ATTACHMENT_GROUPS_ORDER = ['card', 'gallery', 'image', 'media', 'audio', 'file'];\n/**\n * A component used for rendering message attachments. By default, the component supports: AttachmentActions, Audio, Card, File, Gallery, Image, and Video\n */\nexport var Attachment = function (props) {\n  var attachments = props.attachments;\n  var groupedAttachments = useMemo(function () {\n    return renderGroupedAttachments(props);\n  }, [attachments]);\n  return React.createElement(\"div\", {\n    className: 'str-chat__attachment-list'\n  }, ATTACHMENT_GROUPS_ORDER.reduce(function (acc, groupName) {\n    return __spreadArray(__spreadArray([], acc, true), groupedAttachments[groupName], true);\n  }, []));\n};\nvar renderGroupedAttachments = function (_a) {\n  var attachments = _a.attachments,\n    rest = __rest(_a, [\"attachments\"]);\n  var uploadedImages = [];\n  var containers = attachments.reduce(function (acc, attachment) {\n    if (isUploadedImage(attachment)) {\n      uploadedImages.push(__assign(__assign({}, attachment), {\n        image_url: sanitizeUrl(attachment.image_url),\n        thumb_url: sanitizeUrl(attachment.thumb_url)\n      }));\n    } else {\n      var attachmentType = getAttachmentType(attachment);\n      if (attachmentType) {\n        var Container = CONTAINER_MAP[attachmentType];\n        acc[attachmentType].push(React.createElement(Container, __assign({\n          key: \"\".concat(attachmentType, \"-\").concat(acc[attachmentType].length)\n        }, rest, {\n          attachment: attachment\n        })));\n      }\n    }\n    return acc;\n  }, {\n    audio: [],\n    card: [],\n    file: [],\n    gallery: [],\n    image: [],\n    media: []\n  });\n  if (uploadedImages.length > 1) {\n    containers['gallery'] = [React.createElement(GalleryContainer, __assign({\n      key: 'gallery-container'\n    }, rest, {\n      attachment: {\n        images: uploadedImages,\n        type: 'gallery'\n      }\n    }))];\n  } else if (uploadedImages.length === 1) {\n    containers['image'] = [React.createElement(ImageContainer, __assign({\n      key: 'image-container'\n    }, rest, {\n      attachment: uploadedImages[0]\n    }))];\n  }\n  return containers;\n};\nvar getAttachmentType = function (attachment) {\n  if (isScrapedContent(attachment)) {\n    return 'card';\n  } else if (isMediaAttachment(attachment)) {\n    return 'media';\n  } else if (isAudioAttachment(attachment)) {\n    return 'audio';\n  } else if (isFileAttachment(attachment)) {\n    return 'file';\n  }\n  return null;\n};","map":{"version":3,"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","__spreadArray","to","from","pack","l","ar","Array","slice","concat","React","useMemo","sanitizeUrl","isAudioAttachment","isFileAttachment","isMediaAttachment","isScrapedContent","isUploadedImage","AudioContainer","CardContainer","FileContainer","GalleryContainer","ImageContainer","MediaContainer","CONTAINER_MAP","audio","card","file","media","ATTACHMENT_GROUPS_ORDER","Attachment","props","attachments","groupedAttachments","renderGroupedAttachments","createElement","className","reduce","acc","groupName","_a","rest","uploadedImages","containers","attachment","push","image_url","thumb_url","attachmentType","getAttachmentType","Container","key","gallery","image","images","type"],"sources":["/home/kingking/Documents/code/website/libreqkn/node_modules/stream-chat-react/dist/components/Attachment/Attachment.js"],"sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport React, { useMemo } from 'react';\nimport { sanitizeUrl } from '@braintree/sanitize-url';\nimport { isAudioAttachment, isFileAttachment, isMediaAttachment, isScrapedContent, isUploadedImage, } from './utils';\nimport { AudioContainer, CardContainer, FileContainer, GalleryContainer, ImageContainer, MediaContainer, } from './AttachmentContainer';\nvar CONTAINER_MAP = {\n    audio: AudioContainer,\n    card: CardContainer,\n    file: FileContainer,\n    media: MediaContainer,\n};\nexport var ATTACHMENT_GROUPS_ORDER = [\n    'card',\n    'gallery',\n    'image',\n    'media',\n    'audio',\n    'file',\n];\n/**\n * A component used for rendering message attachments. By default, the component supports: AttachmentActions, Audio, Card, File, Gallery, Image, and Video\n */\nexport var Attachment = function (props) {\n    var attachments = props.attachments;\n    var groupedAttachments = useMemo(function () { return renderGroupedAttachments(props); }, [attachments]);\n    return (React.createElement(\"div\", { className: 'str-chat__attachment-list' }, ATTACHMENT_GROUPS_ORDER.reduce(function (acc, groupName) { return __spreadArray(__spreadArray([], acc, true), groupedAttachments[groupName], true); }, [])));\n};\nvar renderGroupedAttachments = function (_a) {\n    var attachments = _a.attachments, rest = __rest(_a, [\"attachments\"]);\n    var uploadedImages = [];\n    var containers = attachments.reduce(function (acc, attachment) {\n        if (isUploadedImage(attachment)) {\n            uploadedImages.push(__assign(__assign({}, attachment), { image_url: sanitizeUrl(attachment.image_url), thumb_url: sanitizeUrl(attachment.thumb_url) }));\n        }\n        else {\n            var attachmentType = getAttachmentType(attachment);\n            if (attachmentType) {\n                var Container = CONTAINER_MAP[attachmentType];\n                acc[attachmentType].push(React.createElement(Container, __assign({ key: \"\".concat(attachmentType, \"-\").concat(acc[attachmentType].length) }, rest, { attachment: attachment })));\n            }\n        }\n        return acc;\n    }, {\n        audio: [],\n        card: [],\n        file: [],\n        gallery: [],\n        image: [],\n        media: [],\n    });\n    if (uploadedImages.length > 1) {\n        containers['gallery'] = [\n            React.createElement(GalleryContainer, __assign({ key: 'gallery-container' }, rest, { attachment: {\n                    images: uploadedImages,\n                    type: 'gallery',\n                } })),\n        ];\n    }\n    else if (uploadedImages.length === 1) {\n        containers['image'] = [\n            React.createElement(ImageContainer, __assign({ key: 'image-container' }, rest, { attachment: uploadedImages[0] })),\n        ];\n    }\n    return containers;\n};\nvar getAttachmentType = function (attachment) {\n    if (isScrapedContent(attachment)) {\n        return 'card';\n    }\n    else if (isMediaAttachment(attachment)) {\n        return 'media';\n    }\n    else if (isAudioAttachment(attachment)) {\n        return 'audio';\n    }\n    else if (isFileAttachment(attachment)) {\n        return 'file';\n    }\n    return null;\n};\n"],"mappings":"AAAA,IAAIA,QAAQ,GAAI,IAAI,IAAI,IAAI,CAACA,QAAQ,IAAK,YAAY;EAClDA,QAAQ,GAAGC,MAAM,CAACC,MAAM,IAAI,UAASC,CAAC,EAAE;IACpC,KAAK,IAAIC,CAAC,EAAEC,CAAC,GAAG,CAAC,EAAEC,CAAC,GAAGC,SAAS,CAACC,MAAM,EAAEH,CAAC,GAAGC,CAAC,EAAED,CAAC,EAAE,EAAE;MACjDD,CAAC,GAAGG,SAAS,CAACF,CAAC,CAAC;MAChB,KAAK,IAAII,CAAC,IAAIL,CAAC,EAAE,IAAIH,MAAM,CAACS,SAAS,CAACC,cAAc,CAACC,IAAI,CAACR,CAAC,EAAEK,CAAC,CAAC,EAC3DN,CAAC,CAACM,CAAC,CAAC,GAAGL,CAAC,CAACK,CAAC,CAAC;IACnB;IACA,OAAON,CAAC;EACZ,CAAC;EACD,OAAOH,QAAQ,CAACa,KAAK,CAAC,IAAI,EAAEN,SAAS,CAAC;AAC1C,CAAC;AACD,IAAIO,MAAM,GAAI,IAAI,IAAI,IAAI,CAACA,MAAM,IAAK,UAAUV,CAAC,EAAEW,CAAC,EAAE;EAClD,IAAIZ,CAAC,GAAG,CAAC,CAAC;EACV,KAAK,IAAIM,CAAC,IAAIL,CAAC,EAAE,IAAIH,MAAM,CAACS,SAAS,CAACC,cAAc,CAACC,IAAI,CAACR,CAAC,EAAEK,CAAC,CAAC,IAAIM,CAAC,CAACC,OAAO,CAACP,CAAC,CAAC,GAAG,CAAC,EAC/EN,CAAC,CAACM,CAAC,CAAC,GAAGL,CAAC,CAACK,CAAC,CAAC;EACf,IAAIL,CAAC,IAAI,IAAI,IAAI,OAAOH,MAAM,CAACgB,qBAAqB,KAAK,UAAU,EAC/D,KAAK,IAAIZ,CAAC,GAAG,CAAC,EAAEI,CAAC,GAAGR,MAAM,CAACgB,qBAAqB,CAACb,CAAC,CAAC,EAAEC,CAAC,GAAGI,CAAC,CAACD,MAAM,EAAEH,CAAC,EAAE,EAAE;IACpE,IAAIU,CAAC,CAACC,OAAO,CAACP,CAAC,CAACJ,CAAC,CAAC,CAAC,GAAG,CAAC,IAAIJ,MAAM,CAACS,SAAS,CAACQ,oBAAoB,CAACN,IAAI,CAACR,CAAC,EAAEK,CAAC,CAACJ,CAAC,CAAC,CAAC,EAC1EF,CAAC,CAACM,CAAC,CAACJ,CAAC,CAAC,CAAC,GAAGD,CAAC,CAACK,CAAC,CAACJ,CAAC,CAAC,CAAC;EACzB;EACJ,OAAOF,CAAC;AACZ,CAAC;AACD,IAAIgB,aAAa,GAAI,IAAI,IAAI,IAAI,CAACA,aAAa,IAAK,UAAUC,EAAE,EAAEC,IAAI,EAAEC,IAAI,EAAE;EAC1E,IAAIA,IAAI,IAAIf,SAAS,CAACC,MAAM,KAAK,CAAC,EAAE,KAAK,IAAIH,CAAC,GAAG,CAAC,EAAEkB,CAAC,GAAGF,IAAI,CAACb,MAAM,EAAEgB,EAAE,EAAEnB,CAAC,GAAGkB,CAAC,EAAElB,CAAC,EAAE,EAAE;IACjF,IAAImB,EAAE,IAAI,EAAEnB,CAAC,IAAIgB,IAAI,CAAC,EAAE;MACpB,IAAI,CAACG,EAAE,EAAEA,EAAE,GAAGC,KAAK,CAACf,SAAS,CAACgB,KAAK,CAACd,IAAI,CAACS,IAAI,EAAE,CAAC,EAAEhB,CAAC,CAAC;MACpDmB,EAAE,CAACnB,CAAC,CAAC,GAAGgB,IAAI,CAAChB,CAAC,CAAC;IACnB;EACJ;EACA,OAAOe,EAAE,CAACO,MAAM,CAACH,EAAE,IAAIC,KAAK,CAACf,SAAS,CAACgB,KAAK,CAACd,IAAI,CAACS,IAAI,CAAC,CAAC;AAC5D,CAAC;AACD,OAAOO,KAAK,IAAIC,OAAO,QAAQ,OAAO;AACtC,SAASC,WAAW,QAAQ,yBAAyB;AACrD,SAASC,iBAAiB,EAAEC,gBAAgB,EAAEC,iBAAiB,EAAEC,gBAAgB,EAAEC,eAAe,QAAS,SAAS;AACpH,SAASC,cAAc,EAAEC,aAAa,EAAEC,aAAa,EAAEC,gBAAgB,EAAEC,cAAc,EAAEC,cAAc,QAAS,uBAAuB;AACvI,IAAIC,aAAa,GAAG;EAChBC,KAAK,EAAEP,cAAc;EACrBQ,IAAI,EAAEP,aAAa;EACnBQ,IAAI,EAAEP,aAAa;EACnBQ,KAAK,EAAEL;AACX,CAAC;AACD,OAAO,IAAIM,uBAAuB,GAAG,CACjC,MAAM,EACN,SAAS,EACT,OAAO,EACP,OAAO,EACP,OAAO,EACP,MAAM,CACT;AACD;AACA;AACA;AACA,OAAO,IAAIC,UAAU,GAAG,UAAUC,KAAK,EAAE;EACrC,IAAIC,WAAW,GAAGD,KAAK,CAACC,WAAW;EACnC,IAAIC,kBAAkB,GAAGtB,OAAO,CAAC,YAAY;IAAE,OAAOuB,wBAAwB,CAACH,KAAK,CAAC;EAAE,CAAC,EAAE,CAACC,WAAW,CAAC,CAAC;EACxG,OAAQtB,KAAK,CAACyB,aAAa,CAAC,KAAK,EAAE;IAAEC,SAAS,EAAE;EAA4B,CAAC,EAAEP,uBAAuB,CAACQ,MAAM,CAAC,UAAUC,GAAG,EAAEC,SAAS,EAAE;IAAE,OAAOtC,aAAa,CAACA,aAAa,CAAC,EAAE,EAAEqC,GAAG,EAAE,IAAI,CAAC,EAAEL,kBAAkB,CAACM,SAAS,CAAC,EAAE,IAAI,CAAC;EAAE,CAAC,EAAE,EAAE,CAAC,CAAC;AAC9O,CAAC;AACD,IAAIL,wBAAwB,GAAG,UAAUM,EAAE,EAAE;EACzC,IAAIR,WAAW,GAAGQ,EAAE,CAACR,WAAW;IAAES,IAAI,GAAG7C,MAAM,CAAC4C,EAAE,EAAE,CAAC,aAAa,CAAC,CAAC;EACpE,IAAIE,cAAc,GAAG,EAAE;EACvB,IAAIC,UAAU,GAAGX,WAAW,CAACK,MAAM,CAAC,UAAUC,GAAG,EAAEM,UAAU,EAAE;IAC3D,IAAI3B,eAAe,CAAC2B,UAAU,CAAC,EAAE;MAC7BF,cAAc,CAACG,IAAI,CAAC/D,QAAQ,CAACA,QAAQ,CAAC,CAAC,CAAC,EAAE8D,UAAU,CAAC,EAAE;QAAEE,SAAS,EAAElC,WAAW,CAACgC,UAAU,CAACE,SAAS,CAAC;QAAEC,SAAS,EAAEnC,WAAW,CAACgC,UAAU,CAACG,SAAS;MAAE,CAAC,CAAC,CAAC;IAC3J,CAAC,MACI;MACD,IAAIC,cAAc,GAAGC,iBAAiB,CAACL,UAAU,CAAC;MAClD,IAAII,cAAc,EAAE;QAChB,IAAIE,SAAS,GAAG1B,aAAa,CAACwB,cAAc,CAAC;QAC7CV,GAAG,CAACU,cAAc,CAAC,CAACH,IAAI,CAACnC,KAAK,CAACyB,aAAa,CAACe,SAAS,EAAEpE,QAAQ,CAAC;UAAEqE,GAAG,EAAE,EAAE,CAAC1C,MAAM,CAACuC,cAAc,EAAE,GAAG,CAAC,CAACvC,MAAM,CAAC6B,GAAG,CAACU,cAAc,CAAC,CAAC1D,MAAM;QAAE,CAAC,EAAEmD,IAAI,EAAE;UAAEG,UAAU,EAAEA;QAAW,CAAC,CAAC,CAAC,CAAC;MACpL;IACJ;IACA,OAAON,GAAG;EACd,CAAC,EAAE;IACCb,KAAK,EAAE,EAAE;IACTC,IAAI,EAAE,EAAE;IACRC,IAAI,EAAE,EAAE;IACRyB,OAAO,EAAE,EAAE;IACXC,KAAK,EAAE,EAAE;IACTzB,KAAK,EAAE;EACX,CAAC,CAAC;EACF,IAAIc,cAAc,CAACpD,MAAM,GAAG,CAAC,EAAE;IAC3BqD,UAAU,CAAC,SAAS,CAAC,GAAG,CACpBjC,KAAK,CAACyB,aAAa,CAACd,gBAAgB,EAAEvC,QAAQ,CAAC;MAAEqE,GAAG,EAAE;IAAoB,CAAC,EAAEV,IAAI,EAAE;MAAEG,UAAU,EAAE;QACzFU,MAAM,EAAEZ,cAAc;QACtBa,IAAI,EAAE;MACV;IAAE,CAAC,CAAC,CAAC,CACZ;EACL,CAAC,MACI,IAAIb,cAAc,CAACpD,MAAM,KAAK,CAAC,EAAE;IAClCqD,UAAU,CAAC,OAAO,CAAC,GAAG,CAClBjC,KAAK,CAACyB,aAAa,CAACb,cAAc,EAAExC,QAAQ,CAAC;MAAEqE,GAAG,EAAE;IAAkB,CAAC,EAAEV,IAAI,EAAE;MAAEG,UAAU,EAAEF,cAAc,CAAC,CAAC;IAAE,CAAC,CAAC,CAAC,CACrH;EACL;EACA,OAAOC,UAAU;AACrB,CAAC;AACD,IAAIM,iBAAiB,GAAG,UAAUL,UAAU,EAAE;EAC1C,IAAI5B,gBAAgB,CAAC4B,UAAU,CAAC,EAAE;IAC9B,OAAO,MAAM;EACjB,CAAC,MACI,IAAI7B,iBAAiB,CAAC6B,UAAU,CAAC,EAAE;IACpC,OAAO,OAAO;EAClB,CAAC,MACI,IAAI/B,iBAAiB,CAAC+B,UAAU,CAAC,EAAE;IACpC,OAAO,OAAO;EAClB,CAAC,MACI,IAAI9B,gBAAgB,CAAC8B,UAAU,CAAC,EAAE;IACnC,OAAO,MAAM;EACjB;EACA,OAAO,IAAI;AACf,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}