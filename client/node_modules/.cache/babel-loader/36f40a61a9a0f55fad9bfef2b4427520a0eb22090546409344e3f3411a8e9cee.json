{"ast":null,"code":"import React, { useCallback, useEffect, useRef, useState } from 'react';\nvar progressUpdateInterval = 500;\nvar UnMemoizedAudio = function (props) {\n  var og = props.og;\n  var _a = useState(false),\n    isPlaying = _a[0],\n    setIsPlaying = _a[1];\n  var _b = useState(0),\n    progress = _b[0],\n    setProgress = _b[1];\n  var audioRef = useRef(null);\n  var updateProgress = useCallback(function () {\n    if (audioRef.current !== null) {\n      var position = audioRef.current.currentTime;\n      var duration = audioRef.current.duration;\n      var currentProgress = 100 / duration * position;\n      setProgress(currentProgress);\n      if (position === duration) {\n        setIsPlaying(false);\n      }\n    }\n  }, [audioRef]);\n  useEffect(function () {\n    if (audioRef.current !== null) {\n      if (isPlaying) {\n        audioRef.current.play();\n        var interval_1 = setInterval(updateProgress, progressUpdateInterval);\n        return function () {\n          return clearInterval(interval_1);\n        };\n      }\n      audioRef.current.pause();\n    }\n    return;\n  }, [isPlaying, updateProgress]);\n  var asset_url = og.asset_url,\n    description = og.description,\n    image_url = og.image_url,\n    text = og.text,\n    title = og.title;\n  return React.createElement(\"div\", {\n    className: 'str-chat__audio'\n  }, React.createElement(\"div\", {\n    className: 'str-chat__audio__wrapper'\n  }, React.createElement(\"audio\", {\n    ref: audioRef\n  }, React.createElement(\"source\", {\n    \"data-testid\": 'audio-source',\n    src: asset_url,\n    type: 'audio/mp3'\n  })), React.createElement(\"div\", {\n    className: 'str-chat__audio__image'\n  }, React.createElement(\"div\", {\n    className: 'str-chat__audio__image--overlay'\n  }, !isPlaying ? React.createElement(\"button\", {\n    className: 'str-chat__audio__image--button',\n    \"data-testid\": 'play-audio',\n    onClick: function () {\n      return setIsPlaying(true);\n    }\n  }, React.createElement(\"svg\", {\n    height: '40',\n    viewBox: '0 0 64 64',\n    width: '40',\n    xmlns: 'http://www.w3.org/2000/svg'\n  }, React.createElement(\"path\", {\n    d: 'M32 58c14.36 0 26-11.64 26-26S46.36 6 32 6 6 17.64 6 32s11.64 26 26 26zm0 6C14.327 64 0 49.673 0 32 0 14.327 14.327 0 32 0c17.673 0 32 14.327 32 32 0 17.673-14.327 32-32 32zm13.237-28.412L26.135 45.625a3.27 3.27 0 0 1-4.426-1.4 3.319 3.319 0 0 1-.372-1.47L21 23.36c-.032-1.823 1.41-3.327 3.222-3.358a3.263 3.263 0 0 1 1.473.322l19.438 9.36a3.311 3.311 0 0 1 .103 5.905z',\n    fillRule: 'nonzero'\n  }))) : React.createElement(\"button\", {\n    className: 'str-chat__audio__image--button',\n    \"data-testid\": 'pause-audio',\n    onClick: function () {\n      return setIsPlaying(false);\n    }\n  }, React.createElement(\"svg\", {\n    height: '40',\n    viewBox: '0 0 64 64',\n    width: '40',\n    xmlns: 'http://www.w3.org/2000/svg'\n  }, React.createElement(\"path\", {\n    d: 'M32 58.215c14.478 0 26.215-11.737 26.215-26.215S46.478 5.785 32 5.785 5.785 17.522 5.785 32 17.522 58.215 32 58.215zM32 64C14.327 64 0 49.673 0 32 0 14.327 14.327 0 32 0c17.673 0 32 14.327 32 32 0 17.673-14.327 32-32 32zm-7.412-45.56h2.892a2.17 2.17 0 0 1 2.17 2.17v23.865a2.17 2.17 0 0 1-2.17 2.17h-2.892a2.17 2.17 0 0 1-2.17-2.17V20.61a2.17 2.17 0 0 1 2.17-2.17zm12.293 0h2.893a2.17 2.17 0 0 1 2.17 2.17v23.865a2.17 2.17 0 0 1-2.17 2.17h-2.893a2.17 2.17 0 0 1-2.17-2.17V20.61a2.17 2.17 0 0 1 2.17-2.17z',\n    fillRule: 'nonzero'\n  })))), image_url && React.createElement(\"img\", {\n    alt: \"\" + description,\n    src: image_url\n  })), React.createElement(\"div\", {\n    className: 'str-chat__audio__content'\n  }, React.createElement(\"span\", {\n    className: 'str-chat__audio__content--title'\n  }, React.createElement(\"strong\", null, title)), React.createElement(\"span\", {\n    className: 'str-chat__audio__content--subtitle'\n  }, text), React.createElement(\"div\", {\n    className: 'str-chat__audio__content--progress'\n  }, React.createElement(\"div\", {\n    \"data-testid\": 'audio-progress',\n    style: {\n      width: progress + \"%\"\n    }\n  })))));\n};\n/**\n * Audio attachment with play/pause button and progress bar\n */\nexport var Audio = React.memo(UnMemoizedAudio);","map":{"version":3,"names":["React","useCallback","useEffect","useRef","useState","progressUpdateInterval","UnMemoizedAudio","props","og","_a","isPlaying","setIsPlaying","_b","progress","setProgress","audioRef","updateProgress","current","position","currentTime","duration","currentProgress","play","interval_1","setInterval","clearInterval","pause","asset_url","description","image_url","text","title","createElement","className","ref","src","type","onClick","height","viewBox","width","xmlns","d","fillRule","alt","style","Audio","memo"],"sources":["/home/kingking/Documents/code/website/libreqkn/client/node_modules/stream-chat-react/dist/components/Attachment/Audio.js"],"sourcesContent":["import React, { useCallback, useEffect, useRef, useState } from 'react';\nvar progressUpdateInterval = 500;\nvar UnMemoizedAudio = function (props) {\n    var og = props.og;\n    var _a = useState(false), isPlaying = _a[0], setIsPlaying = _a[1];\n    var _b = useState(0), progress = _b[0], setProgress = _b[1];\n    var audioRef = useRef(null);\n    var updateProgress = useCallback(function () {\n        if (audioRef.current !== null) {\n            var position = audioRef.current.currentTime;\n            var duration = audioRef.current.duration;\n            var currentProgress = (100 / duration) * position;\n            setProgress(currentProgress);\n            if (position === duration) {\n                setIsPlaying(false);\n            }\n        }\n    }, [audioRef]);\n    useEffect(function () {\n        if (audioRef.current !== null) {\n            if (isPlaying) {\n                audioRef.current.play();\n                var interval_1 = setInterval(updateProgress, progressUpdateInterval);\n                return function () { return clearInterval(interval_1); };\n            }\n            audioRef.current.pause();\n        }\n        return;\n    }, [isPlaying, updateProgress]);\n    var asset_url = og.asset_url, description = og.description, image_url = og.image_url, text = og.text, title = og.title;\n    return (React.createElement(\"div\", { className: 'str-chat__audio' },\n        React.createElement(\"div\", { className: 'str-chat__audio__wrapper' },\n            React.createElement(\"audio\", { ref: audioRef },\n                React.createElement(\"source\", { \"data-testid\": 'audio-source', src: asset_url, type: 'audio/mp3' })),\n            React.createElement(\"div\", { className: 'str-chat__audio__image' },\n                React.createElement(\"div\", { className: 'str-chat__audio__image--overlay' }, !isPlaying ? (React.createElement(\"button\", { className: 'str-chat__audio__image--button', \"data-testid\": 'play-audio', onClick: function () { return setIsPlaying(true); } },\n                    React.createElement(\"svg\", { height: '40', viewBox: '0 0 64 64', width: '40', xmlns: 'http://www.w3.org/2000/svg' },\n                        React.createElement(\"path\", { d: 'M32 58c14.36 0 26-11.64 26-26S46.36 6 32 6 6 17.64 6 32s11.64 26 26 26zm0 6C14.327 64 0 49.673 0 32 0 14.327 14.327 0 32 0c17.673 0 32 14.327 32 32 0 17.673-14.327 32-32 32zm13.237-28.412L26.135 45.625a3.27 3.27 0 0 1-4.426-1.4 3.319 3.319 0 0 1-.372-1.47L21 23.36c-.032-1.823 1.41-3.327 3.222-3.358a3.263 3.263 0 0 1 1.473.322l19.438 9.36a3.311 3.311 0 0 1 .103 5.905z', fillRule: 'nonzero' })))) : (React.createElement(\"button\", { className: 'str-chat__audio__image--button', \"data-testid\": 'pause-audio', onClick: function () { return setIsPlaying(false); } },\n                    React.createElement(\"svg\", { height: '40', viewBox: '0 0 64 64', width: '40', xmlns: 'http://www.w3.org/2000/svg' },\n                        React.createElement(\"path\", { d: 'M32 58.215c14.478 0 26.215-11.737 26.215-26.215S46.478 5.785 32 5.785 5.785 17.522 5.785 32 17.522 58.215 32 58.215zM32 64C14.327 64 0 49.673 0 32 0 14.327 14.327 0 32 0c17.673 0 32 14.327 32 32 0 17.673-14.327 32-32 32zm-7.412-45.56h2.892a2.17 2.17 0 0 1 2.17 2.17v23.865a2.17 2.17 0 0 1-2.17 2.17h-2.892a2.17 2.17 0 0 1-2.17-2.17V20.61a2.17 2.17 0 0 1 2.17-2.17zm12.293 0h2.893a2.17 2.17 0 0 1 2.17 2.17v23.865a2.17 2.17 0 0 1-2.17 2.17h-2.893a2.17 2.17 0 0 1-2.17-2.17V20.61a2.17 2.17 0 0 1 2.17-2.17z', fillRule: 'nonzero' }))))),\n                image_url && React.createElement(\"img\", { alt: \"\" + description, src: image_url })),\n            React.createElement(\"div\", { className: 'str-chat__audio__content' },\n                React.createElement(\"span\", { className: 'str-chat__audio__content--title' },\n                    React.createElement(\"strong\", null, title)),\n                React.createElement(\"span\", { className: 'str-chat__audio__content--subtitle' }, text),\n                React.createElement(\"div\", { className: 'str-chat__audio__content--progress' },\n                    React.createElement(\"div\", { \"data-testid\": 'audio-progress', style: { width: progress + \"%\" } }))))));\n};\n/**\n * Audio attachment with play/pause button and progress bar\n */\nexport var Audio = React.memo(UnMemoizedAudio);\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}