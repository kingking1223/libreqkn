{"ast":null,"code":"import React from 'react';\nimport ReactMarkdown from 'react-markdown/with-html';\nexport var renderPreviewText = function (text) {\n  return React.createElement(ReactMarkdown, {\n    source: text\n  });\n};\nexport var getLatestMessagePreview = function (channel, t, userLanguage) {\n  var _a, _b;\n  if (userLanguage === void 0) {\n    userLanguage = 'en';\n  }\n  var latestMessage = channel.state.messages[channel.state.messages.length - 1];\n  var previewTextToRender = ((_a = latestMessage === null || latestMessage === void 0 ? void 0 : latestMessage.i18n) === null || _a === void 0 ? void 0 : _a[userLanguage + \"_text\"]) || (latestMessage === null || latestMessage === void 0 ? void 0 : latestMessage.text);\n  if (!latestMessage) {\n    return t('Nothing yet...');\n  }\n  if (latestMessage.deleted_at) {\n    return t('Message deleted');\n  }\n  if (previewTextToRender) {\n    var renderedText = renderPreviewText(previewTextToRender);\n    return renderedText;\n  }\n  if (latestMessage.command) {\n    return \"/\" + latestMessage.command;\n  }\n  if ((_b = latestMessage.attachments) === null || _b === void 0 ? void 0 : _b.length) {\n    return t('üèô Attachment...');\n  }\n  return t('Empty message...');\n};\nexport var getDisplayTitle = function (channel, currentUser) {\n  var _a, _b;\n  var title = (_a = channel.data) === null || _a === void 0 ? void 0 : _a.name;\n  var members = Object.values(channel.state.members);\n  if (!title && members.length === 2) {\n    var otherMember = members.find(function (member) {\n      var _a;\n      return ((_a = member.user) === null || _a === void 0 ? void 0 : _a.id) !== (currentUser === null || currentUser === void 0 ? void 0 : currentUser.id);\n    });\n    if ((_b = otherMember === null || otherMember === void 0 ? void 0 : otherMember.user) === null || _b === void 0 ? void 0 : _b.name) {\n      title = otherMember.user.name;\n    }\n  }\n  return title;\n};\nexport var getDisplayImage = function (channel, currentUser) {\n  var _a, _b;\n  var image = (_a = channel.data) === null || _a === void 0 ? void 0 : _a.image;\n  var members = Object.values(channel.state.members);\n  if (!image && members.length === 2) {\n    var otherMember = members.find(function (member) {\n      var _a;\n      return ((_a = member.user) === null || _a === void 0 ? void 0 : _a.id) !== (currentUser === null || currentUser === void 0 ? void 0 : currentUser.id);\n    });\n    if ((_b = otherMember === null || otherMember === void 0 ? void 0 : otherMember.user) === null || _b === void 0 ? void 0 : _b.image) {\n      image = otherMember.user.image;\n    }\n  }\n  return image;\n};","map":{"version":3,"names":["React","ReactMarkdown","renderPreviewText","text","createElement","source","getLatestMessagePreview","channel","t","userLanguage","_a","_b","latestMessage","state","messages","length","previewTextToRender","i18n","deleted_at","renderedText","command","attachments","getDisplayTitle","currentUser","title","data","name","members","Object","values","otherMember","find","member","user","id","getDisplayImage","image"],"sources":["/home/kingking/Documents/code/website/libreqkn/client/node_modules/stream-chat-react/dist/components/ChannelPreview/utils.js"],"sourcesContent":["import React from 'react';\nimport ReactMarkdown from 'react-markdown/with-html';\nexport var renderPreviewText = function (text) { return React.createElement(ReactMarkdown, { source: text }); };\nexport var getLatestMessagePreview = function (channel, t, userLanguage) {\n    var _a, _b;\n    if (userLanguage === void 0) { userLanguage = 'en'; }\n    var latestMessage = channel.state.messages[channel.state.messages.length - 1];\n    var previewTextToRender = ((_a = latestMessage === null || latestMessage === void 0 ? void 0 : latestMessage.i18n) === null || _a === void 0 ? void 0 : _a[userLanguage + \"_text\"]) ||\n        (latestMessage === null || latestMessage === void 0 ? void 0 : latestMessage.text);\n    if (!latestMessage) {\n        return t('Nothing yet...');\n    }\n    if (latestMessage.deleted_at) {\n        return t('Message deleted');\n    }\n    if (previewTextToRender) {\n        var renderedText = renderPreviewText(previewTextToRender);\n        return renderedText;\n    }\n    if (latestMessage.command) {\n        return \"/\" + latestMessage.command;\n    }\n    if ((_b = latestMessage.attachments) === null || _b === void 0 ? void 0 : _b.length) {\n        return t('üèô Attachment...');\n    }\n    return t('Empty message...');\n};\nexport var getDisplayTitle = function (channel, currentUser) {\n    var _a, _b;\n    var title = (_a = channel.data) === null || _a === void 0 ? void 0 : _a.name;\n    var members = Object.values(channel.state.members);\n    if (!title && members.length === 2) {\n        var otherMember = members.find(function (member) { var _a; return ((_a = member.user) === null || _a === void 0 ? void 0 : _a.id) !== (currentUser === null || currentUser === void 0 ? void 0 : currentUser.id); });\n        if ((_b = otherMember === null || otherMember === void 0 ? void 0 : otherMember.user) === null || _b === void 0 ? void 0 : _b.name) {\n            title = otherMember.user.name;\n        }\n    }\n    return title;\n};\nexport var getDisplayImage = function (channel, currentUser) {\n    var _a, _b;\n    var image = (_a = channel.data) === null || _a === void 0 ? void 0 : _a.image;\n    var members = Object.values(channel.state.members);\n    if (!image && members.length === 2) {\n        var otherMember = members.find(function (member) { var _a; return ((_a = member.user) === null || _a === void 0 ? void 0 : _a.id) !== (currentUser === null || currentUser === void 0 ? void 0 : currentUser.id); });\n        if ((_b = otherMember === null || otherMember === void 0 ? void 0 : otherMember.user) === null || _b === void 0 ? void 0 : _b.image) {\n            image = otherMember.user.image;\n        }\n    }\n    return image;\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}