{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nimport React, { Suspense, useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport { isMutableRef } from './utils/utils';\nimport { Avatar as DefaultAvatar } from '../Avatar';\nimport { getStrippedEmojiData } from '../Channel/emojiData';\nimport { useComponentContext } from '../../context/ComponentContext';\nimport { useEmojiContext } from '../../context/EmojiContext';\nimport { useMessageContext } from '../../context/MessageContext';\nvar UnMemoizedReactionSelector = React.forwardRef(function (props, ref) {\n  var _a;\n  var _b = props.additionalEmojiProps,\n    additionalEmojiProps = _b === void 0 ? {} : _b,\n    propAvatar = props.Avatar,\n    _c = props.detailedView,\n    detailedView = _c === void 0 ? true : _c,\n    propHandleReaction = props.handleReaction,\n    propLatestReactions = props.latest_reactions,\n    propReactionCounts = props.reaction_counts,\n    propReactionOptions = props.reactionOptions,\n    _d = props.reverse,\n    reverse = _d === void 0 ? false : _d;\n  var contextAvatar = useComponentContext('ReactionSelector').Avatar;\n  var _e = useEmojiContext('ReactionSelector'),\n    Emoji = _e.Emoji,\n    emojiConfig = _e.emojiConfig;\n  var _f = useMessageContext('ReactionSelector'),\n    contextHandleReaction = _f.handleReaction,\n    message = _f.message;\n  var _g = emojiConfig || {},\n    defaultMinimalEmojis = _g.defaultMinimalEmojis,\n    fullEmojiData = _g.emojiData,\n    emojiSetDef = _g.emojiSetDef;\n  var Avatar = propAvatar || contextAvatar || DefaultAvatar;\n  var handleReaction = propHandleReaction || contextHandleReaction;\n  var latestReactions = propLatestReactions || (message === null || message === void 0 ? void 0 : message.latest_reactions) || [];\n  var reactionCounts = propReactionCounts || (message === null || message === void 0 ? void 0 : message.reaction_counts) || {};\n  var reactionOptions = propReactionOptions || defaultMinimalEmojis;\n  var reactionsAreCustom = !!(propReactionOptions === null || propReactionOptions === void 0 ? void 0 : propReactionOptions.length);\n  var emojiData = useMemo(function () {\n    return reactionsAreCustom ? fullEmojiData : getStrippedEmojiData(fullEmojiData);\n  }, [fullEmojiData, reactionsAreCustom]);\n  var _h = useState(null),\n    tooltipReactionType = _h[0],\n    setTooltipReactionType = _h[1];\n  var _j = useState(null),\n    tooltipPositions = _j[0],\n    setTooltipPositions = _j[1];\n  var targetRef = useRef(null);\n  var tooltipRef = useRef(null);\n  var showTooltip = useCallback(function (event, reactionType) {\n    targetRef.current = event.currentTarget;\n    setTooltipReactionType(reactionType);\n  }, []);\n  var hideTooltip = useCallback(function () {\n    setTooltipReactionType(null);\n    setTooltipPositions(null);\n  }, []);\n  useEffect(function () {\n    var _a, _b, _c;\n    if (tooltipReactionType) {\n      var tooltip = (_a = tooltipRef.current) === null || _a === void 0 ? void 0 : _a.getBoundingClientRect();\n      var target = (_b = targetRef.current) === null || _b === void 0 ? void 0 : _b.getBoundingClientRect();\n      var container = isMutableRef(ref) ? (_c = ref.current) === null || _c === void 0 ? void 0 : _c.getBoundingClientRect() : null;\n      if (!tooltip || !target || !container) return;\n      var tooltipPosition = tooltip.width === container.width || tooltip.x < container.x ? 0 : target.left + target.width / 2 - container.left - tooltip.width / 2;\n      var arrowPosition = target.x - tooltip.x + target.width / 2 - tooltipPosition;\n      setTooltipPositions({\n        arrow: arrowPosition,\n        tooltip: tooltipPosition\n      });\n    }\n  }, [tooltipReactionType, ref]);\n  var getUsersPerReactionType = function (type) {\n    return latestReactions.map(function (reaction) {\n      var _a, _b;\n      if (reaction.type === type) {\n        return ((_a = reaction.user) === null || _a === void 0 ? void 0 : _a.name) || ((_b = reaction.user) === null || _b === void 0 ? void 0 : _b.id);\n      }\n      return null;\n    }).filter(Boolean);\n  };\n  var getLatestUserForReactionType = function (type) {\n    var _a;\n    return ((_a = latestReactions.find(function (reaction) {\n      return reaction.type === type && !!reaction.user;\n    })) === null || _a === void 0 ? void 0 : _a.user) || undefined;\n  };\n  return React.createElement(\"div\", {\n    className: \"str-chat__reaction-selector \" + (reverse ? 'str-chat__reaction-selector--reverse' : ''),\n    \"data-testid\": 'reaction-selector',\n    ref: ref\n  }, !!tooltipReactionType && detailedView && React.createElement(\"div\", {\n    className: 'str-chat__reaction-selector-tooltip',\n    ref: tooltipRef,\n    style: {\n      left: tooltipPositions === null || tooltipPositions === void 0 ? void 0 : tooltipPositions.tooltip,\n      visibility: tooltipPositions ? 'visible' : 'hidden'\n    }\n  }, React.createElement(\"div\", {\n    className: 'arrow',\n    style: {\n      left: tooltipPositions === null || tooltipPositions === void 0 ? void 0 : tooltipPositions.arrow\n    }\n  }), (_a = getUsersPerReactionType(tooltipReactionType)) === null || _a === void 0 ? void 0 : _a.map(function (user, i, users) {\n    return React.createElement(\"span\", {\n      className: 'latest-user-username',\n      key: \"key-\" + i + \"-\" + user\n    }, \"\" + user + (i < users.length - 1 ? ', ' : ''));\n  })), React.createElement(\"ul\", {\n    className: 'str-chat__message-reactions-list'\n  }, reactionOptions.map(function (reactionOption) {\n    var latestUser = getLatestUserForReactionType(reactionOption.id);\n    var count = reactionCounts && reactionCounts[reactionOption.id];\n    return React.createElement(\"li\", {\n      key: \"item-\" + reactionOption.id\n    }, React.createElement(\"button\", {\n      \"aria-label\": \"Select Reaction: \" + reactionOption.name,\n      className: 'str-chat__message-reactions-list-item',\n      \"data-text\": reactionOption.id,\n      onClick: function (event) {\n        return handleReaction(reactionOption.id, event);\n      }\n    }, !!count && detailedView && React.createElement(React.Fragment, null, React.createElement(\"div\", {\n      className: 'latest-user',\n      onClick: hideTooltip,\n      onMouseEnter: function (e) {\n        return showTooltip(e, reactionOption.id);\n      },\n      onMouseLeave: hideTooltip\n    }, latestUser ? React.createElement(Avatar, {\n      image: latestUser.image,\n      name: latestUser.name,\n      size: 20,\n      user: latestUser\n    }) : React.createElement(\"div\", {\n      className: 'latest-user-not-found'\n    }))), React.createElement(Suspense, {\n      fallback: null\n    }, React.createElement(Emoji, __assign({\n      data: emojiData,\n      emoji: reactionOption,\n      size: 20\n    }, reactionsAreCustom ? additionalEmojiProps : emojiSetDef))), Boolean(count) && detailedView && React.createElement(\"span\", {\n      className: 'str-chat__message-reactions-list-item__count'\n    }, count || '')));\n  })));\n});\n/**\n * Component that allows a user to select a reaction.\n */\nexport var ReactionSelector = React.memo(UnMemoizedReactionSelector);","map":{"version":3,"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","React","Suspense","useCallback","useEffect","useMemo","useRef","useState","isMutableRef","Avatar","DefaultAvatar","getStrippedEmojiData","useComponentContext","useEmojiContext","useMessageContext","UnMemoizedReactionSelector","forwardRef","props","ref","_a","_b","additionalEmojiProps","propAvatar","_c","detailedView","propHandleReaction","handleReaction","propLatestReactions","latest_reactions","propReactionCounts","reaction_counts","propReactionOptions","reactionOptions","_d","reverse","contextAvatar","_e","Emoji","emojiConfig","_f","contextHandleReaction","message","_g","defaultMinimalEmojis","fullEmojiData","emojiData","emojiSetDef","latestReactions","reactionCounts","reactionsAreCustom","_h","tooltipReactionType","setTooltipReactionType","_j","tooltipPositions","setTooltipPositions","targetRef","tooltipRef","showTooltip","event","reactionType","current","currentTarget","hideTooltip","tooltip","getBoundingClientRect","target","container","tooltipPosition","width","x","left","arrowPosition","arrow","getUsersPerReactionType","type","map","reaction","user","name","id","filter","Boolean","getLatestUserForReactionType","find","undefined","createElement","className","style","visibility","users","key","reactionOption","latestUser","count","onClick","Fragment","onMouseEnter","e","onMouseLeave","image","size","fallback","data","emoji","ReactionSelector","memo"],"sources":["/home/kingking/Documents/code/website/libreqkn/client/node_modules/stream-chat-react/dist/components/Reactions/ReactionSelector.js"],"sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React, { Suspense, useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport { isMutableRef } from './utils/utils';\nimport { Avatar as DefaultAvatar } from '../Avatar';\nimport { getStrippedEmojiData } from '../Channel/emojiData';\nimport { useComponentContext } from '../../context/ComponentContext';\nimport { useEmojiContext } from '../../context/EmojiContext';\nimport { useMessageContext } from '../../context/MessageContext';\nvar UnMemoizedReactionSelector = React.forwardRef(function (props, ref) {\n    var _a;\n    var _b = props.additionalEmojiProps, additionalEmojiProps = _b === void 0 ? {} : _b, propAvatar = props.Avatar, _c = props.detailedView, detailedView = _c === void 0 ? true : _c, propHandleReaction = props.handleReaction, propLatestReactions = props.latest_reactions, propReactionCounts = props.reaction_counts, propReactionOptions = props.reactionOptions, _d = props.reverse, reverse = _d === void 0 ? false : _d;\n    var contextAvatar = useComponentContext('ReactionSelector').Avatar;\n    var _e = useEmojiContext('ReactionSelector'), Emoji = _e.Emoji, emojiConfig = _e.emojiConfig;\n    var _f = useMessageContext('ReactionSelector'), contextHandleReaction = _f.handleReaction, message = _f.message;\n    var _g = emojiConfig || {}, defaultMinimalEmojis = _g.defaultMinimalEmojis, fullEmojiData = _g.emojiData, emojiSetDef = _g.emojiSetDef;\n    var Avatar = propAvatar || contextAvatar || DefaultAvatar;\n    var handleReaction = propHandleReaction || contextHandleReaction;\n    var latestReactions = propLatestReactions || (message === null || message === void 0 ? void 0 : message.latest_reactions) || [];\n    var reactionCounts = propReactionCounts || (message === null || message === void 0 ? void 0 : message.reaction_counts) || {};\n    var reactionOptions = propReactionOptions || defaultMinimalEmojis;\n    var reactionsAreCustom = !!(propReactionOptions === null || propReactionOptions === void 0 ? void 0 : propReactionOptions.length);\n    var emojiData = useMemo(function () { return (reactionsAreCustom ? fullEmojiData : getStrippedEmojiData(fullEmojiData)); }, [fullEmojiData, reactionsAreCustom]);\n    var _h = useState(null), tooltipReactionType = _h[0], setTooltipReactionType = _h[1];\n    var _j = useState(null), tooltipPositions = _j[0], setTooltipPositions = _j[1];\n    var targetRef = useRef(null);\n    var tooltipRef = useRef(null);\n    var showTooltip = useCallback(function (event, reactionType) {\n        targetRef.current = event.currentTarget;\n        setTooltipReactionType(reactionType);\n    }, []);\n    var hideTooltip = useCallback(function () {\n        setTooltipReactionType(null);\n        setTooltipPositions(null);\n    }, []);\n    useEffect(function () {\n        var _a, _b, _c;\n        if (tooltipReactionType) {\n            var tooltip = (_a = tooltipRef.current) === null || _a === void 0 ? void 0 : _a.getBoundingClientRect();\n            var target = (_b = targetRef.current) === null || _b === void 0 ? void 0 : _b.getBoundingClientRect();\n            var container = isMutableRef(ref) ? (_c = ref.current) === null || _c === void 0 ? void 0 : _c.getBoundingClientRect() : null;\n            if (!tooltip || !target || !container)\n                return;\n            var tooltipPosition = tooltip.width === container.width || tooltip.x < container.x\n                ? 0\n                : target.left + target.width / 2 - container.left - tooltip.width / 2;\n            var arrowPosition = target.x - tooltip.x + target.width / 2 - tooltipPosition;\n            setTooltipPositions({\n                arrow: arrowPosition,\n                tooltip: tooltipPosition,\n            });\n        }\n    }, [tooltipReactionType, ref]);\n    var getUsersPerReactionType = function (type) {\n        return latestReactions\n            .map(function (reaction) {\n            var _a, _b;\n            if (reaction.type === type) {\n                return ((_a = reaction.user) === null || _a === void 0 ? void 0 : _a.name) || ((_b = reaction.user) === null || _b === void 0 ? void 0 : _b.id);\n            }\n            return null;\n        })\n            .filter(Boolean);\n    };\n    var getLatestUserForReactionType = function (type) {\n        var _a;\n        return ((_a = latestReactions.find(function (reaction) { return reaction.type === type && !!reaction.user; })) === null || _a === void 0 ? void 0 : _a.user) ||\n            undefined;\n    };\n    return (React.createElement(\"div\", { className: \"str-chat__reaction-selector \" + (reverse ? 'str-chat__reaction-selector--reverse' : ''), \"data-testid\": 'reaction-selector', ref: ref },\n        !!tooltipReactionType && detailedView && (React.createElement(\"div\", { className: 'str-chat__reaction-selector-tooltip', ref: tooltipRef, style: {\n                left: tooltipPositions === null || tooltipPositions === void 0 ? void 0 : tooltipPositions.tooltip,\n                visibility: tooltipPositions ? 'visible' : 'hidden',\n            } },\n            React.createElement(\"div\", { className: 'arrow', style: { left: tooltipPositions === null || tooltipPositions === void 0 ? void 0 : tooltipPositions.arrow } }), (_a = getUsersPerReactionType(tooltipReactionType)) === null || _a === void 0 ? void 0 :\n            _a.map(function (user, i, users) { return (React.createElement(\"span\", { className: 'latest-user-username', key: \"key-\" + i + \"-\" + user }, \"\" + user + (i < users.length - 1 ? ', ' : ''))); }))),\n        React.createElement(\"ul\", { className: 'str-chat__message-reactions-list' }, reactionOptions.map(function (reactionOption) {\n            var latestUser = getLatestUserForReactionType(reactionOption.id);\n            var count = reactionCounts && reactionCounts[reactionOption.id];\n            return (React.createElement(\"li\", { key: \"item-\" + reactionOption.id },\n                React.createElement(\"button\", { \"aria-label\": \"Select Reaction: \" + reactionOption.name, className: 'str-chat__message-reactions-list-item', \"data-text\": reactionOption.id, onClick: function (event) { return handleReaction(reactionOption.id, event); } },\n                    !!count && detailedView && (React.createElement(React.Fragment, null,\n                        React.createElement(\"div\", { className: 'latest-user', onClick: hideTooltip, onMouseEnter: function (e) { return showTooltip(e, reactionOption.id); }, onMouseLeave: hideTooltip }, latestUser ? (React.createElement(Avatar, { image: latestUser.image, name: latestUser.name, size: 20, user: latestUser })) : (React.createElement(\"div\", { className: 'latest-user-not-found' }))))),\n                    React.createElement(Suspense, { fallback: null },\n                        React.createElement(Emoji, __assign({ data: emojiData, emoji: reactionOption, size: 20 }, (reactionsAreCustom ? additionalEmojiProps : emojiSetDef)))),\n                    Boolean(count) && detailedView && (React.createElement(\"span\", { className: 'str-chat__message-reactions-list-item__count' }, count || '')))));\n        }))));\n});\n/**\n * Component that allows a user to select a reaction.\n */\nexport var ReactionSelector = React.memo(UnMemoizedReactionSelector);\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}