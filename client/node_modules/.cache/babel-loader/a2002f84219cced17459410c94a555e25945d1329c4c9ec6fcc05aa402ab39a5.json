{"ast":null,"code":"import React, { useMemo } from 'react';\nimport { useMobilePress } from './hooks';\nimport { QuotedMessage as DefaultQuotedMessage } from './QuotedMessage';\nimport { messageHasAttachments } from './utils';\nimport { useComponentContext } from '../../context/ComponentContext';\nimport { useMessageContext } from '../../context/MessageContext';\nimport { useTranslationContext } from '../../context/TranslationContext';\nimport { renderText as defaultRenderText, isOnlyEmojis } from '../../utils';\nvar UnMemoizedMessageTextComponent = function (props) {\n  var _a;\n  var customInnerClass = props.customInnerClass,\n    _b = props.customWrapperClass,\n    customWrapperClass = _b === void 0 ? '' : _b,\n    propMessage = props.message,\n    _c = props.theme,\n    theme = _c === void 0 ? 'simple' : _c;\n  var _d = useComponentContext('MessageText').QuotedMessage,\n    QuotedMessage = _d === void 0 ? DefaultQuotedMessage : _d;\n  var _e = useMessageContext('MessageText'),\n    contextMessage = _e.message,\n    onMentionsClickMessage = _e.onMentionsClickMessage,\n    onMentionsHoverMessage = _e.onMentionsHoverMessage,\n    _f = _e.renderText,\n    renderText = _f === void 0 ? defaultRenderText : _f,\n    unsafeHTML = _e.unsafeHTML;\n  var _g = useTranslationContext('MessageText'),\n    t = _g.t,\n    userLanguage = _g.userLanguage;\n  var handleMobilePress = useMobilePress().handleMobilePress;\n  var message = propMessage || contextMessage;\n  var hasAttachment = messageHasAttachments(message);\n  var messageTextToRender = ((_a = message.i18n) === null || _a === void 0 ? void 0 : _a[userLanguage + \"_text\"]) || message.text;\n  var messageText = useMemo(function () {\n    return renderText(messageTextToRender, message.mentioned_users);\n  }, [message.mentioned_users, messageTextToRender]);\n  var wrapperClass = customWrapperClass || 'str-chat__message-text';\n  var innerClass = customInnerClass || \"str-chat__message-text-inner str-chat__message-\" + theme + \"-text-inner\";\n  if (!messageTextToRender && !message.quoted_message) return null;\n  return React.createElement(\"div\", {\n    className: wrapperClass\n  }, React.createElement(\"div\", {\n    className: (\"\\n          \" + innerClass + \"\\n          \" + (hasAttachment ? \" str-chat__message-\" + theme + \"-text-inner--has-attachment\" : '') + \"\\n          \" + (isOnlyEmojis(message.text) && !message.quoted_message ? \" str-chat__message-\" + theme + \"-text-inner--is-emoji\" : '') + \"\\n        \").trim(),\n    \"data-testid\": 'message-text-inner-wrapper',\n    onClick: onMentionsClickMessage,\n    onMouseOver: onMentionsHoverMessage\n  }, message.quoted_message && React.createElement(QuotedMessage, null), message.type === 'error' && React.createElement(\"div\", {\n    className: \"str-chat__\" + theme + \"-message--error-message\"\n  }, t('Error · Unsent')), message.status === 'failed' && React.createElement(\"div\", {\n    className: \"str-chat__\" + theme + \"-message--error-message\"\n  }, message.errorStatusCode !== 403 ? t('Message Failed · Click to try again') : t('Message Failed · Unauthorized')), unsafeHTML && message.html ? React.createElement(\"div\", {\n    dangerouslySetInnerHTML: {\n      __html: message.html\n    }\n  }) : React.createElement(\"div\", {\n    onClick: handleMobilePress\n  }, messageText)));\n};\nexport var MessageText = React.memo(UnMemoizedMessageTextComponent);","map":{"version":3,"names":["React","useMemo","useMobilePress","QuotedMessage","DefaultQuotedMessage","messageHasAttachments","useComponentContext","useMessageContext","useTranslationContext","renderText","defaultRenderText","isOnlyEmojis","UnMemoizedMessageTextComponent","props","_a","customInnerClass","_b","customWrapperClass","propMessage","message","_c","theme","_d","_e","contextMessage","onMentionsClickMessage","onMentionsHoverMessage","_f","unsafeHTML","_g","t","userLanguage","handleMobilePress","hasAttachment","messageTextToRender","i18n","text","messageText","mentioned_users","wrapperClass","innerClass","quoted_message","createElement","className","trim","onClick","onMouseOver","type","status","errorStatusCode","html","dangerouslySetInnerHTML","__html","MessageText","memo"],"sources":["/home/kingking/Documents/code/website/libreqkn/client/node_modules/stream-chat-react/dist/components/Message/MessageText.js"],"sourcesContent":["import React, { useMemo } from 'react';\nimport { useMobilePress } from './hooks';\nimport { QuotedMessage as DefaultQuotedMessage } from './QuotedMessage';\nimport { messageHasAttachments } from './utils';\nimport { useComponentContext } from '../../context/ComponentContext';\nimport { useMessageContext } from '../../context/MessageContext';\nimport { useTranslationContext } from '../../context/TranslationContext';\nimport { renderText as defaultRenderText, isOnlyEmojis } from '../../utils';\nvar UnMemoizedMessageTextComponent = function (props) {\n    var _a;\n    var customInnerClass = props.customInnerClass, _b = props.customWrapperClass, customWrapperClass = _b === void 0 ? '' : _b, propMessage = props.message, _c = props.theme, theme = _c === void 0 ? 'simple' : _c;\n    var _d = useComponentContext('MessageText').QuotedMessage, QuotedMessage = _d === void 0 ? DefaultQuotedMessage : _d;\n    var _e = useMessageContext('MessageText'), contextMessage = _e.message, onMentionsClickMessage = _e.onMentionsClickMessage, onMentionsHoverMessage = _e.onMentionsHoverMessage, _f = _e.renderText, renderText = _f === void 0 ? defaultRenderText : _f, unsafeHTML = _e.unsafeHTML;\n    var _g = useTranslationContext('MessageText'), t = _g.t, userLanguage = _g.userLanguage;\n    var handleMobilePress = useMobilePress().handleMobilePress;\n    var message = propMessage || contextMessage;\n    var hasAttachment = messageHasAttachments(message);\n    var messageTextToRender = ((_a = message.i18n) === null || _a === void 0 ? void 0 : _a[userLanguage + \"_text\"]) || message.text;\n    var messageText = useMemo(function () { return renderText(messageTextToRender, message.mentioned_users); }, [\n        message.mentioned_users,\n        messageTextToRender,\n    ]);\n    var wrapperClass = customWrapperClass || 'str-chat__message-text';\n    var innerClass = customInnerClass || \"str-chat__message-text-inner str-chat__message-\" + theme + \"-text-inner\";\n    if (!messageTextToRender && !message.quoted_message)\n        return null;\n    return (React.createElement(\"div\", { className: wrapperClass },\n        React.createElement(\"div\", { className: (\"\\n          \" + innerClass + \"\\n          \" + (hasAttachment ? \" str-chat__message-\" + theme + \"-text-inner--has-attachment\" : '') + \"\\n          \" + (isOnlyEmojis(message.text) && !message.quoted_message\n                ? \" str-chat__message-\" + theme + \"-text-inner--is-emoji\"\n                : '') + \"\\n        \").trim(), \"data-testid\": 'message-text-inner-wrapper', onClick: onMentionsClickMessage, onMouseOver: onMentionsHoverMessage },\n            message.quoted_message && React.createElement(QuotedMessage, null),\n            message.type === 'error' && (React.createElement(\"div\", { className: \"str-chat__\" + theme + \"-message--error-message\" }, t('Error · Unsent'))),\n            message.status === 'failed' && (React.createElement(\"div\", { className: \"str-chat__\" + theme + \"-message--error-message\" }, message.errorStatusCode !== 403\n                ? t('Message Failed · Click to try again')\n                : t('Message Failed · Unauthorized'))),\n            unsafeHTML && message.html ? (React.createElement(\"div\", { dangerouslySetInnerHTML: { __html: message.html } })) : (React.createElement(\"div\", { onClick: handleMobilePress }, messageText)))));\n};\nexport var MessageText = React.memo(UnMemoizedMessageTextComponent);\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}